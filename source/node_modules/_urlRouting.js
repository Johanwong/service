'use strict'
/****************************************************************************
  CUSTOM
****************************************************************************/
var PAGE = {
  notFound  : require('_vcs-404'),
  esova     : require('_vcs-esova')
}


/******************************************************************************
  MAIN - urlRouting
******************************************************************************/

module.exports = urlRouting

function urlRouting (router/* remove router param */, db, engine) {
  // PREFILL and keeup database up2date with many things, like:
  //  - JSON.stringify(location) // for db.put('location.addressbar')
  //  - for db.put('location.gps') ???

  var dbAuth  = db // db.sublevel('auth')
  var dbPage  = db // db.sublevel('page')
  var dbError = db // db.sublevel('error')


  // return {
  //   '/': PAGE.esova,
  //   '*': PAGE.notFound
  // } // @TODO: replace below with above:
  var mainpage = PAGE.esova(dbPage, engine)
  var errorpage = PAGE.notFound(dbError, engine)
  router.addRoute('*/',                          mainpage)
  router.addRoute('*/public/browser',            mainpage)
  router.addRoute('*/public/browser/index.html', mainpage)
  router.addRoute('*',                           errorpage)
}
